const toggleDarkModeButton=document.getElementById("dark-mode-toggle"),darkModeApplyingElement=document.getElementsByTagName("html")[0],submitQueryButton=document.querySelector(".sql-button"),editorTextArea=document.getElementById("editing-textarea");toggleDarkModeButton.addEventListener("click",toggleDarkMode),submitQueryButton.addEventListener("click",submitSQLQuery);let cm=CodeMirror.fromTextArea(editorTextArea,{mode:"text/x-mysql",indentWithTabs:!0,extraKeys:{"Ctrl-Space":"autocomplete"},smartIndent:!0,autocorrect:!0,lineNumbers:!0,autofocus:!0,matchBrackets:!0,theme:initialTheme,hint:CodeMirror.hint.sql,hintOptions:{tables:tableDetails,defaultTable:"db-book"}});function toggleDarkMode(){let t=document.querySelector(".CodeMirror"),e=darkModeApplyingElement.dataset.bsTheme;"dark"===e&&(toggleDarkModeButton.firstElementChild.textContent="\uD83D\uDD06",darkModeApplyingElement.dataset.bsTheme="light",t.classList.remove(editor_themes.dark),t.classList.add(editor_themes.light)),"light"===e&&(toggleDarkModeButton.firstElementChild.textContent="\uD83C\uDF19",darkModeApplyingElement.dataset.bsTheme="dark",t.classList.remove(editor_themes.light),t.classList.add(editor_themes.dark))}function createQueryForm(t){let e=document.getElementsByTagName("html")[0],r=document.createElement("form");r.setAttribute("method","post"),r.setAttribute("action","index.php"),r.setAttribute("style","display: none");let a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("name","SQLQuery"),a.setAttribute("value",t);let l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("name","sqlFileName");let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("name","previousDarkMode"),n.setAttribute("value",e.dataset.bsTheme);let i=document.createElement("input");return i.setAttribute("type","submit"),i.setAttribute("value","Submit"),r.appendChild(a),r.appendChild(l),r.appendChild(n),r.appendChild(i),r}function submitSQLQuery(){let t=cm.getValue().trim().replaceAll("\n"," \n"),e=createQueryForm(t);document.querySelector(".sql-button").append(e),e.submit()}